<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <!-- Security Headers -->
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; upgrade-insecure-requests;"
        />
        <meta http-equiv="X-Content-Type-Options" content="nosniff" />
        <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
        <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()" />

        <title>Calculator Test Tool - CGMH EHRCALC</title>
        <link rel="stylesheet" href="css/test-calculators.css" />
    </head>

    <body>
        <div class="container">
            <div class="header">
                <h1>üß™ Calculator Test Tool</h1>
                <p>Automated testing for all calculator modules loading and functionality</p>
            </div>

            <div class="controls">
                <button class="btn btn-primary" id="startTestBtn">
                    üöÄ Start Tests
                </button>
                <button class="btn btn-secondary" id="stopTestBtn" disabled>
                    ‚è∏Ô∏è Stop Tests
                </button>
                <button class="btn btn-secondary" id="clearResultsBtn">üóëÔ∏è Clear Results</button>
                <button class="btn btn-secondary" id="exportResultsBtn">
                    üì• Export Report
                </button>
            </div>

            <div class="progress-container" id="progressContainer" style="display: none">
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>
                <div class="stats">
                    <div class="stat">
                        <div class="stat-icon total">üìä</div>
                        <span>Total: <strong id="totalCount">0</strong></span>
                    </div>
                    <div class="stat">
                        <div class="stat-icon success">‚úì</div>
                        <span>Passed: <strong id="successCount">0</strong></span>
                    </div>
                    <div class="stat">
                        <div class="stat-icon error">‚úó</div>
                        <span>Failed: <strong id="errorCount">0</strong></span>
                    </div>
                    <div class="stat">
                        <div class="stat-icon pending">‚è≥</div>
                        <span>Pending: <strong id="pendingCount">0</strong></span>
                    </div>
                </div>
            </div>

            <div class="results">
                <div class="filter-buttons" id="filterButtons" style="display: none">
                    <button
                        class="filter-btn active"
                        data-filter="all"
                    >
                        All (<span id="filterAll">0</span>)
                    </button>
                    <button
                        class="filter-btn"
                        data-filter="success"
                    >
                        ‚úì Passed (<span id="filterSuccess">0</span>)
                    </button>
                    <button class="filter-btn" data-filter="error">
                        ‚úó Failed (<span id="filterError">0</span>)
                    </button>
                </div>

                <div id="resultsContainer">
                    <div class="empty-state">
                        <div class="empty-state-icon">üßÆ</div>
                        <h3>Ready to Start Testing</h3>
                        <p>Click "Start Tests" button to test all calculators</p>
                    </div>
                </div>
            </div>
        </div>

        <script type="module" src="js/test-calculators.js"></script>
    </body>
</html>
