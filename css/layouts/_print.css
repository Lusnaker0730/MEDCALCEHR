/* Print-Friendly Compact Layout — targets 1-2 A4 pages */
@media print {
    *,
    *::before,
    *::after {
        box-shadow: none !important;
        text-shadow: none !important;
        transition: none !important;
    }

    @page {
        margin: 1cm;
        size: A4;
    }

    /* ---- Base ---- */
    body {
        background: white !important;
        color: black !important;
        font-size: 8.5pt;
        line-height: 1.25;
        padding: 0;
        margin: 0;
    }

    /* ---- Hide non-printable elements ---- */
    .back-link,
    .filter-buttons,
    .controls-row,
    .favorite-btn,
    .calculate-btn,
    #calculate-btn,
    .copy-report-btn,
    .print-btn,
    .theme-toggle-btn,
    .logout-btn,
    #logout-btn,
    .session-timeout-overlay,
    .skip-link,
    .loading-container,
    .fhir-feedback-banner,
    .header-actions,
    .swipe-indicator,
    .category-chips,
    .recent-strip,
    #search-bar,
    #sort-select,
    #category-select,
    .help-text,
    .input-hint,
    .section-icon,
    .ui-unit-toggle-btn,
    .ui-formula-section,
    .formula-section,
    .reference-section,
    .info-section,
    hr {
        display: none !important;
    }

    /* ---- Layout Reset ---- */
    .sticky-header {
        position: static;
        background: white !important;
        padding: 0;
        margin: 0;
    }

    .container {
        max-width: 100%;
        padding: 0;
        margin: 0;
        background: white !important;
    }

    header[role='banner'] {
        padding: 0;
        margin: 0;
    }

    h1 {
        font-size: 11pt;
        margin: 0 0 2px 0;
        background: none !important;
        -webkit-text-fill-color: black;
        color: black !important;
        text-align: left;
    }

    #patient-info {
        font-size: 8pt;
        margin: 0 0 4px 0;
        padding: 0;
    }

    /* ---- Calculator Card ---- */
    .calculator-card {
        box-shadow: none;
        border: none;
        background: white !important;
        padding: 0;
        margin: 0;
    }

    /* ---- Sections — compact ---- */
    .section,
    .ui-section {
        background: white !important;
        border-radius: 0;
        padding: 2px 0;
        margin-bottom: 4px;
        box-shadow: none;
    }

    .section-title,
    .ui-section-title {
        font-size: 9pt;
        font-weight: bold;
        margin: 0 0 2px 0;
        padding: 0;
        border-bottom: 0.5pt solid #999;
    }

    .section-subtitle,
    .ui-section-subtitle {
        font-size: 7.5pt;
        margin: 0 0 2px 0;
    }

    /* ---- Input Groups — two-column grid ---- */
    .ui-section > .ui-input-group,
    .calculator-card > .ui-input-group {
        margin-bottom: 2px;
    }

    .ui-input-group {
        margin-bottom: 2px;
    }

    .ui-input-group label,
    .ui-input-group legend {
        font-size: 8pt;
        font-weight: 600;
        margin-bottom: 0;
        display: inline;
    }

    .ui-input-group label::after {
        content: ': ';
    }

    /* Inputs — render as inline text */
    input[type='text'],
    input[type='number'],
    input[type='date'],
    input[type='search'],
    textarea,
    select,
    .ui-input,
    .ui-select {
        border: none !important;
        background: transparent !important;
        -webkit-appearance: none;
        padding: 0 2px;
        height: auto;
        font-size: 8.5pt;
        font-weight: bold;
        display: inline;
        width: auto;
    }

    .ui-input-wrapper {
        display: inline;
    }

    .ui-input-unit {
        position: static;
        transform: none;
        display: inline;
        font-size: 7.5pt;
        margin-left: 1px;
    }

    /* ---- Radio / Checkbox — compact inline flow ---- */
    .ui-radio-group,
    .ui-checkbox-group {
        display: flex;
        flex-wrap: wrap;
        gap: 1px 6px;
    }

    .radio-option,
    .ui-radio-option,
    .checkbox-option,
    .ui-checkbox-option {
        padding: 1px 3px !important;
        margin: 0 !important;
        border: none !important;
        border-radius: 0 !important;
        background: transparent !important;
        box-shadow: none !important;
        font-size: 8pt;
        min-width: auto !important;
        gap: 2px;
    }

    /* Show native radio/checkbox for print readability */
    .radio-option input[type='radio'],
    .ui-radio-option input[type='radio'],
    .checkbox-option input[type='checkbox'],
    .ui-checkbox-option input[type='checkbox'] {
        position: static !important;
        opacity: 1 !important;
        width: auto !important;
        height: auto !important;
        margin: 0 2px 0 0;
    }

    /* Hide custom indicator pseudo-elements */
    .radio-option::before,
    .ui-radio-option::before,
    .checkbox-option::before,
    .ui-checkbox-option::before {
        display: none !important;
    }

    .ui-radio-indicator,
    .ui-checkbox-indicator {
        display: none !important;
    }

    .radio-option label,
    .ui-radio-option label,
    .checkbox-option label,
    .ui-checkbox-option label,
    .ui-option-label,
    .radio-label,
    .checkbox-label {
        font-size: 8pt;
        color: black !important;
        -webkit-text-fill-color: black !important;
    }

    /* Highlight selected options */
    .radio-option.selected label,
    .ui-radio-option.selected label,
    .ui-radio-option:has(input:checked) label,
    .checkbox-option.selected label,
    .ui-checkbox-option.selected label,
    .ui-checkbox-option:has(input:checked) label {
        font-weight: bold;
    }

    .ui-option-description {
        display: none !important;
    }

    fieldset {
        border: none !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    /* ---- Result Box — compact ---- */
    .result-box,
    .ui-result-box {
        border: 1pt solid #333;
        border-radius: 0;
        padding: 4px 6px;
        margin: 4px 0;
        background: white !important;
        page-break-inside: avoid;
    }

    .result-header,
    .ui-result-header {
        font-size: 9pt;
        font-weight: bold;
        text-align: left;
        margin-bottom: 2px;
        padding-bottom: 2px;
        border-bottom: 0.5pt solid #666;
    }

    .result-content,
    .ui-result-content {
        text-align: left;
    }

    .result-score,
    .ui-result-score {
        margin-bottom: 2px;
    }

    .result-value,
    .ui-result-value {
        font-size: 14pt;
        font-weight: bold;
        background: none !important;
        -webkit-text-fill-color: black;
        color: black !important;
        line-height: 1.2;
    }

    .result-unit,
    .ui-result-unit {
        font-size: 9pt;
        color: #333 !important;
        -webkit-text-fill-color: #333;
    }

    .result-label,
    .ui-result-label {
        font-size: 8pt;
        margin-bottom: 1px;
        text-align: left;
    }

    /* ---- Result Interpretation — compact inline ---- */
    .result-interpretation,
    .ui-result-interpretation {
        font-size: 8.5pt;
        font-weight: 600;
        padding: 2px 4px;
        border-radius: 0;
        margin-top: 2px;
        border: 0.5pt solid #666;
    }

    .ui-result-interpretation.success {
        background: #e8f5e9 !important;
        color: #1b5e20 !important;
    }
    .ui-result-interpretation.warning {
        background: #fff8e1 !important;
        color: #e65100 !important;
    }
    .ui-result-interpretation.danger {
        background: #ffebee !important;
        color: #b71c1c !important;
    }
    .ui-result-interpretation.info {
        background: #e3f2fd !important;
        color: #0d47a1 !important;
    }

    /* ---- Result Details ---- */
    .result-details {
        margin-top: 2px;
        padding-top: 2px;
    }

    .result-details-item {
        padding: 1px 0;
        font-size: 8pt;
    }

    .result-grid {
        gap: 2px;
        margin-top: 2px;
    }

    .result-grid-item {
        padding: 2px;
        font-size: 8pt;
    }

    .result-grid-value {
        font-size: 11pt;
    }

    /* ---- Alerts — compact ---- */
    .alert,
    .ui-alert {
        padding: 2px 4px;
        margin-bottom: 2px;
        font-size: 7.5pt;
        border-radius: 0;
        border-left-width: 2px;
    }

    .alert-icon,
    .ui-alert-icon {
        font-size: 9pt;
    }

    .alert-content,
    .ui-alert-content {
        font-size: 7.5pt;
        line-height: 1.2;
    }

    /* ---- Tables — compact ---- */
    table {
        font-size: 7.5pt;
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        padding: 1px 3px;
        border: 0.5pt solid #999;
    }

    /* ---- Print Header (injected by JS) ---- */
    .print-header {
        display: block !important;
        border-bottom: 1.5pt solid black;
        padding-bottom: 3px;
        margin-bottom: 6px;
        font-size: 8.5pt;
    }

    .print-header strong {
        font-size: 11pt;
    }

    /* ---- Print Footer ---- */
    .print-footer {
        display: block !important;
        position: fixed;
        bottom: 0;
        width: 100%;
        text-align: center;
        font-size: 7pt;
        border-top: 0.5pt solid #ccc;
        padding-top: 2px;
        color: #666;
    }

    /* ---- Links ---- */
    a {
        color: black !important;
        text-decoration: none !important;
    }

    /* ---- Range slider — show value only ---- */
    input[type='range'] {
        display: none !important;
    }

    .ui-range-value {
        font-size: 8.5pt;
        font-weight: bold;
    }

    /* ---- Validation messages — compact ---- */
    .validation-message {
        font-size: 7pt;
        padding: 1px 2px;
        margin-top: 1px;
    }
}

/* Print header/footer: hidden normally */
.print-header,
.print-footer {
    display: none;
}
